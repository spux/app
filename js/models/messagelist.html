<title>Spux App Message</title>
<link rel="stylesheet" href="https://spux.org/css/spux.css" />
<script type="application/ld+json" id="data">
  [
    {
      "id": 123456,
      "type": "message",
      "date": "2019-04-05T07:36:49",
      "edited": "1970-01-01T01:00:00",
      "from": "Melvin Carvalho",
      "from_id": 12345678,
      "text": [
        "Hi There",
        {
          "type": "link",
          "text": "http://example.com"
        }
      ]
    },
    {
      "id": 123457,
      "type": "message",
      "date": "2019-04-05T08:36:49",
      "edited": "1970-01-01T01:00:00",
      "from": "Melvin Carvalho",
      "from_id": 12345678,
      "text": [
        "What's Up?",
        {
          "type": "link",
          "text": "http://example.com"
        }
      ]
    }
  ]
</script>
<script type="module">
  import 'https://unpkg.com/dataisland?module'
  import { h, html, Component, render } from 'https://unpkg.com/spux?module'
  console.log(di.data)

  var Message = props =>
    html`
      <div>${props.from} <span>(${props.date})</span></div>
      <div>${props.text[0]}</div>
    `

  const MessageList = messages => {
    return html`
      <div>
        ${di.data.map(Message)}
      </div>
    `
  }

  render(h(MessageList), document.body)
</script>
